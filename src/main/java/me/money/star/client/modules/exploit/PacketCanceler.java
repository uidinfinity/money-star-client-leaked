package me.money.star.client.modules.exploit;

import com.google.common.eventbus.Subscribe;
import me.money.star.client.gui.modules.Module;
import me.money.star.client.settings.Setting;
import me.money.star.event.impl.network.PacketEvent;
import net.minecraft.network.packet.c2s.common.CommonPongC2SPacket;
import net.minecraft.network.packet.c2s.common.KeepAliveC2SPacket;
import net.minecraft.network.packet.c2s.play.*;



public class PacketCanceler extends Module {

    public Setting<Boolean> playerMove = bool("PlayerMove", false);
    public Setting<Boolean> playerInput = bool("PlayerInput", false);
    public Setting<Boolean> playerInteractBlock = bool("PlayerInteractBlock", false);
    public Setting<Boolean> playerInteractEntity = bool("PlayerInteractEntity", false);
    public Setting<Boolean> playerInteractItem = bool("PlayerInteractItem", false);
    public Setting<Boolean> craftRequest = bool("CraftRequest", false);
    public Setting<Boolean> updateSelectedSlot = bool("UpdateSelectedSlot", false);
    public Setting<Boolean> clickSlot = bool("ClickSlot", false);
    public Setting<Boolean> creativeInventoryAction = bool("CreativeInventoryAction", false);
    public Setting<Boolean> handSwing = bool("HandSwing", false);
    public Setting<Boolean> pickFromInventory = bool("PickFromInventory", false);
    public Setting<Boolean> teleportConfirm = bool("TeleportConfirm", false);
    public Setting<Boolean> keepAlive = bool("KeepAlive", false);
    public Setting<Boolean> commonPong = bool("CommonPong", false);


    /**
     *
     */
    public PacketCanceler() {
        super("PacketCanceler", "Cancels packets when sending to server",
                Category.EXPLOIT,true,false,false);
    }

    @Subscribe
    public void onPacketOutbound(PacketEvent.Outbound event) {
        if (event.getPacket() instanceof PlayerMoveC2SPacket
                && playerMove.getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof PlayerInputC2SPacket
                && playerInput .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof PlayerInteractBlockC2SPacket
                && playerInteractBlock .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof PlayerInteractEntityC2SPacket
                && playerInteractEntity .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof PlayerInteractItemC2SPacket
                && playerInteractItem .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof CraftRequestC2SPacket
                && craftRequest .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof UpdateSelectedSlotC2SPacket
                && updateSelectedSlot .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof ClickSlotC2SPacket
                && clickSlot .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof CreativeInventoryActionC2SPacket
                && creativeInventoryAction .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof HandSwingC2SPacket
                && handSwing .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof TeleportConfirmC2SPacket
                && teleportConfirm .getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof KeepAliveC2SPacket
                && keepAlive.getValue()) {
            event.cancel();
        } else if (event.getPacket() instanceof CommonPongC2SPacket
                && commonPong.getValue()) {
            event.cancel();
        }
    }
}
